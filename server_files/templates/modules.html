{% extends "admin.html" %}
{% block title %}Modules{% endblock %}
{% block head %}
    <link rel="stylesheet" href="/css/modules.css">
    <link rel="stylesheet" href="/css/loader.css">
    <script src="/js/modules.js"></script>
{% endblock %}
{% block content %}

<h1>Modules</h1>
<table class="modules-table">
    <thead>
        <tr>
            <th class="modules_table__header-field modules_table__header-field_approved">&nbsp;</th>
            <th class="modules_table__header-field modules-table__header-field_name">Name</th>
            <th class="modules_table__header-field modules-table__header-field_version">Version</th>
            <th class="modules_table__header-field modules-table__header-field_info">Info</th>
            <th class="modules_table__header-field modules-table__header-field_delete">Delete</th>
        </tr>
    </thead>
    <tbody>
    {% if modules_count %}
    {% for module in all_modules %}
        <tr class="modules-table__content-row">
            <td class="modules-table__field modules-table__field_no-pad modules-table__field_center-text">
                <span data-type="approve" data-module-id="{{ module.id }}" title="Approved"
                      class="modules-table__field_btn {% if module.approved %}approved{% else %}new{% endif %}"></span>
            </td>
            <td class="modules-table__field">{{ module.name }}</td>
            <td class="modules-table__field">{{ module.version }}</td>
            <td class="modules-table__field modules-table__field_no-pad">
                <a href="/admin/module?id={{ module.id }}" data-type="info" data-module-id="{{ module.id }}"
                   class="modules-table__field_btn modules-table__field_btn_info modules-table__field_center-text">info</a>
            </td>
            <td class="modules-table__field modules-table__field_no-pad">
                <a href="/del" data-type="delete" data-module-id="{{ module.id }}"
                   class="modules-table__field_btn modules-table__field_btn_delete modules-table__field_center-text wide">delete</a>
            </td>
        </tr>
    {% endfor %}
    {% else %}
        <tr class="modules-table__content-row">
            <td class="modules-table__field">&nbsp;</td>
            <td class="modules-table__field modules-table__field_no-new">No modules</td>
            <td class="modules-table__field">&nbsp;</td>
            <td class="modules-table__field">&nbsp;</td>
            <td class="modules-table__field">&nbsp;</td>
        </tr>
    {% endif %}
    </tbody>
</table>
{% endblock %}